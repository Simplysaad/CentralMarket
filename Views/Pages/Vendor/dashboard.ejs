<section id="overviewSection" class="py-5">
    <div class="heading pt-4">
        <h2 class="text-heading display-6 fw-semibold">Hey Saad,</h2>
    </div>
    <div
        class="container py-4 justify-content-center d-flex gap-4 gap-md-5 flex-wrap"
    >
        <div
            class="overview-item border shadow rounded py-5 px-3 d-flex col-12 justify-content-between align-items-center col-md-5"
        >
            <div class="overview-text">
                <h4 class="text-uppercase text-muted fs-6">Products</h4>
                <div class="d-flex flex-wrap gap-2 align-items-center">
                    <h2 class="display-4 text-dark lead">
                        <%= myProducts.length %>
                    </h2>
                    <span class="text-danger fw-semibold">
                        <i class="fa fa-arrow-down"> </i>
                        61.4%
                    </span>
                </div>
            </div>
            <div class="overview-icon">
                <i class="fa fa-box fa-4x"> </i>
            </div>
        </div>
        <div
            class="overview-item border shadow rounded py-5 px-3 d-flex col-12 justify-content-between align-items-center col-md-5"
        >
            <div class="overview-text">
                <h4 class="text-uppercase text-muted fs-6">New Customers</h4>
                <div class="d-flex gap-2 align-items-center">
                    <h2 class="display-4 text-dark lead">
                        <%= newCustomers.length %>
                    </h2>
                    <span class="text-success fw-semibold">
                        <i class="fa fa-arrow-up"> </i>
                        14.1%
                    </span>
                </div>
            </div>
            <div class="overview-icon">
                <i class="fa fa-user-group fa-4x"> </i>
            </div>
        </div>
        <div
            class="overview-item border shadow rounded py-5 px-3 d-flex col-12 justify-content-between align-items-center col-md-5"
        >
            <div class="overview-text">
                <h4 class="text-uppercase text-muted fs-6">Completed orders</h4>
                <div class="d-flex gap-2 align-items-center">
                    <h2 class="display-4 text-dark lead">
                        <%= completedOrders.length %>
                    </h2>
                    <span class="text-danger fw-semibold">
                        <i class="fa fa-arrow-down"> </i>
                        4.1%
                    </span>
                </div>
            </div>
            <div class="overview-icon">
                <i class="fa fa-gift fa-4x"> </i>
            </div>
        </div>
        <div
            class="overview-item border shadow rounded py-5 px-3 d-flex col-12 justify-content-between align-items-center col-md-5"
        >
            <div class="overview-text">
                <h4 class="text-uppercase text-muted fs-6">Total revenue</h4>
                <div class="d-flex gap-2 align-items-center">
                    <h2 class="display-6 text-dark lead">
                        <%= "$" + totalRevenue.toLocaleString() %>
                    </h2>
                    <span class="text-success fw-semibold">
                        <i class="fa fa-arrow-up"> </i>
                        12.6%
                    </span>
                </div>
            </div>
            <div class="overview-icon">
                <!-- <i class="fa fa-money fa-4x"> </i> -->
                <span class="fa-4x"> ðŸ’µ </span>
            </div>
        </div>
    </div>
</section>
<section id="graphsSection" class="py-5"></section>
<section id="activitySection" class="py-5">
    <!-- <div class="">
  THIS activitySection IS JUST THE MOST RECENT NOTIFICATIONS
</div> -->
    <div class="heading">
        <h2 class="display-6 text-heading">Activities</h2>
    </div>
    <div class="contaner col-md-8 table-responsive">
        <table class="table table-borderless">
            <tbody class="">
                <tr class="">
                    <td class="text-nowrap fw-semibold text-danger">
                        out of stock
                    </td>
                    <td class="text-nowrap">
                        <a href="" class="link-dark text-decoration-none">
                            china headphones are out of stock
                        </a>
                    </td>
                    <td class="text-nowrap text-muted">2 minutes ago</td>
                </tr>
                <tr class="">
                    <td class="text-nowrap fw-semibold text-success text-info">
                        new order
                    </td>
                    <td class="text-nowrap">
                        <a href="" class="link-dark text-decoration-none">
                            new order for nataraj pencils
                        </a>
                    </td>
                    <td class="text-nowrap text-muted">7 minutes ago</td>
                </tr>
            </tbody>
        </table>
    </div>
</section>
<section id="ordersSection" class="py-5">
    <div class="heading">
        <h4 class="text-heading display-6">Orders</h4>
    </div>
    <div class="table-responsive">
        <% if(myOrders.length > 0){ %>
        <table class="table table-striped">
            <thead>
                <tr class="text-nowrap">
                    <th class="">Status</th>
                    <th class="">Product name</th>
                    <th class="">Amount</th>
                    <th class="">OrderId</th>
                    <th class="">Coupon</th>
                </tr>
            </thead>
            <tbody class="text-nowrap">
                <% myOrders.forEach((order, index)=>{ %>
                <tr>
                    <td><%= order.items?.status %></td>
                    <td class="">
                        <a href="/preview/<%= order.items?.productId %>" class="link-dark">
                            <%= order.items?.name %>
                        </a>
                    </td>
                    <td><%= "$" + (order.items?.price || order.items?.subTotal).toLocaleString() %></td>
                    <td><%= order._id %></td>
                    <td><%= order.coupon ?? "none" %></td>
                </tr>
                <% }) %>
            </tbody>
        </table>
        <% }else{ %>
        <p class="">No orders yet</p>
        <% }%>
    </div>
</section>
<section id="productsSection" class="py-5">
    <div class="heading d-flex justify-content-between p-2 align-items-center">
        <div class="heading-text">
            <h4 class="display-6 text-heading">Inventory</h4>
            <p class="text-muted">Best performing products</p>
        </div>
        <div class="heading-action">
            <a
                href="/vendor/products/add"
                class="btn btn-outline-dark btn-sm rounded-pill"
            >
                <i class="fa fa-plus"> </i>
                <span class=""> Add product </span>
            </a>
        </div>
    </div>
    <div class="table-responsive">
        <% if(myProducts.length > 0){ %>
        <table class="text-nowrap table table-striped">
            <thead>
                <tr>
                    <th>ProductId</th>
                    <th>Product name</th>
                    <th>Quantity sold</th>
                    <th>Revenue generated (%)</th>
                    <th>Price ($)</th>
                </tr>
            </thead>
            <tbody class="text-nowrap">
                <% myProducts.forEach((product, index)=>{ %>
                <tr>
                    <td><%= product._id %>
                    </td>
                    <td>
                      <a href="/preview/<%= product._id %>" class="link-dark">
                        <%= product.name %>
                      </a>
                    </td>
                    <td><%= product.amountSold %></td>
                    <td>
                        <%= "$" + (product.price *
                        product.amountSold).toLocaleString() %>
                    </td>
                    <td><%= "$" + product.price.toLocaleString() %></td>
                </tr>
                <% }) %>
            </tbody>
        </table>
        <% }else{ %>
        <p class="">
            No products yet
            <a href="" class="d-block"> Add one! </a>
        </p>
        <% }%>
    </div>
</section>
<script src="/JS/dashboard.js"></script>
